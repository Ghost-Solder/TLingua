<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Language Learning Mini App</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.x/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100">

<div id="auth" class="min-h-screen flex flex-col justify-center items-center">
    <div class="bg-white p-6 rounded-lg shadow-lg">
        <!-- Заголовок и добро пожаловать с именем пользователя -->
        <h2 id="welcomeTitle" class="text-2xl font-bold text-center text-gray-900 mb-2">
            Welcome
        </h2>
        <!-- Контейнер для аватара и имени пользователя -->
        <div id="userProfile" class="text-center">
            <img id="userAvatar" src="" class="w-24 h-24 rounded-full mx-auto" alt="User avatar">
            <div class="mt-2" id="userName"></div>
        </div>
    </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Здесь предполагается, что Telegram Web App API уже подключен
    if (window.Telegram && Telegram.WebApp) {
      Telegram.WebApp.ready();

      // Получаем данные пользователя
      const user = Telegram.WebApp.initDataUnsafe.user;
      const photoUrl = user.photo_url;
      const firstName = user.first_name;
      const lastName = user.last_name || '';

      // Устанавливаем имя пользователя и аватар
      const welcomeTitle = document.getElementById('welcomeTitle');
      const userProfile = document.getElementById('userProfile');
      const userAvatar = document.getElementById('userAvatar');
      const userName = document.getElementById('userName');

      // Если данные пользователя получены из Telegram, обновляем интерфейс
      if (user) {
        welcomeTitle.textContent = `Welcome, ${firstName}!`;
        userName.textContent = `${firstName} ${lastName}`;
        userAvatar.src = photoUrl || 'default-avatar.png'; // Замените 'default-avatar.png' на реальный URL вашего изображения по умолчанию
        userProfile.style.display = 'block';
      }
    }
  });
</script>

</body>
</html>